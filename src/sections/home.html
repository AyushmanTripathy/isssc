<section id="carousel">
  <img src="" alt="" />
  <img src="" alt="" />
  <img src="" alt="" />
</section>

<main>
  <div>
    <h1>
      3rd IEEE International Symposium on Sustainable Energy, Signal Processing
      and Cybersecurity
      <br />
      (iSSSC 2025)
    </h1>
  </div>
</main>

<style>
  main {
    @include fullscreen;
    @include flex(column);
    @include flex-center;
    @include fixed(0, 0);
    @include sans;
  }
  div {
    @include glass;
    text-align: center;
    width: 60vw;
    min-width: 300px;
    color: $pri;
    padding: 10px;
  }

  section {
    @include fixed(0, 0);
    display: inline-flex;
    height: 100vh;
    z-index: -1;
  }
</style>

<script>
  let index = 1;
  const nextImageSrc = () => {
    if (index == 6) index = 1;
    return `/images/${index++}.jpeg`;
  };

  const carousel = document.getElementById("carousel");
  const images = carousel.querySelectorAll("img");

  images.forEach((x) => (x.src = nextImageSrc()));

  function sleep(duration) {
    return new Promise((res) => setTimeout(res, duration));
  }
  async function slideLeft() {
    images[1].src = nextImageSrc();
    await sleep(1000);

    images[0].style.transform = "translateX(-100%)";
    images[1].style.transform = "translateX(-100%)";

    await sleep(2000);
    slideRight();
  }
  async function slideRight() {
    images[0].src = nextImageSrc();
    await sleep(1000);

    images[0].style.transform = "";
    images[1].style.transform = "";

    await sleep(2000);
    slideLeft();
  }

  (async () => {
    await sleep(1000);
    slideLeft();
  })();
</script>
